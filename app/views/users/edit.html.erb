<% if @user_form.errors.present? && @user_form.errors.any? %>
  <div class="error_message_box">
    <ul>
      <% @user_form.errors.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<div class="container">
  <div class="row">
    <div class="col-10">
      <h1 class='py-4 text-center'>編集</h1>
      <div class='center_form'>
        <%= form_with(model: @user_form, url: user_path,method: :patch, local: true) do |form| %>
          <%= form.fields_for :user , @user_form.user do |user_fields| %>
              <%= user_fields.hidden_field :id, value: @user_form.user.id %>
            <div class="form-group">
              <%= user_fields.label :name %>
              <%= user_fields.text_field :name ,class:'form-control' %>
            </div>
          <% end %>
          <%= form.fields_for :user_detail , @user_form.user_detail  do |user_detail_fields| %>
            <div class="form-group">
              <%= user_detail_fields.label :email %>
              <%= user_detail_fields.email_field :email ,class:'form-control' %>
            </div>
            <div class="form-group">
              <%= user_detail_fields.label :icon %>
              <%= user_detail_fields.file_field :icon %>
            </div>
          <% end %>
          <%= form.fields_for :user , @user_form.user  do |user_fields| %>
            <div class="form-group">
              <%= user_fields.label :password %>
              <%= user_fields.password_field :password ,class:'form-control' %>
            </div>
            <div class="form-group">
              <%= user_fields.label :password_digest %>
              <%= user_fields.password_field :password_digest ,class:'form-control' %>
            </div>
          <% end %>
          <%= form.submit "Log in" ,class:'btn btn-primary' %>
        <% end %>
      </div>
    </div>
  </div>
</div>